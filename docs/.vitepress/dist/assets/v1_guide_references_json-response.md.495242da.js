import{_ as s,o as e,c as a,V as n}from"./chunks/framework.5f0cae6b.js";const d=JSON.parse('{"title":"JSON response object","description":"","frontmatter":{},"headers":[],"relativePath":"v1/guide/references/json-response.md","filePath":"v1/guide/references/json-response.md"}'),o={name:"v1/guide/references/json-response.md"},p=n(`<h1 id="json-response-object" tabindex="-1">JSON response object <a class="header-anchor" href="#json-response-object" aria-label="Permalink to &quot;JSON response object&quot;">​</a></h1><p>The JSON response object specifies how tripwire will react in case of a json request. This object can be used for both responding after triggering a wire or when a user/ip is blocked.</p><p>You can use a fluent api to respond</p><h2 id="general" tabindex="-1">General <a class="header-anchor" href="#general" aria-label="Permalink to &quot;General&quot;">​</a></h2><p>Simply abort the request with the specified code (406)</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">JsonResponseConfig</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">make</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">code</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">406</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="exception" tabindex="-1">Exception <a class="header-anchor" href="#exception" aria-label="Permalink to &quot;Exception&quot;">​</a></h2><p>Throw an exception <strong>Note:</strong> throwing an exception as a response is slightly slower than other types of responses</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">JsonResponseConfig</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">make</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">exception</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">TripwireFailedException</span><span style="color:#89DDFF;">::</span><span style="color:#F78C6C;">class</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="redirect" tabindex="-1">Redirect <a class="header-anchor" href="#redirect" aria-label="Permalink to &quot;Redirect&quot;">​</a></h2><p>Returns json data, with a redirect url</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">JsonResponseConfig</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">make</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">code</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">406</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">redirectUrl</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://go-away.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// returns {redirect_url: &quot;http://go-away.com&quot;}</span></span></code></pre></div><h2 id="message" tabindex="-1">Message <a class="header-anchor" href="#message" aria-label="Permalink to &quot;Message&quot;">​</a></h2><p>Returns a translated message</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">JsonResponseConfig</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">make</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">messageKey</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">your-custom-translatable-message-key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="json" tabindex="-1">Json <a class="header-anchor" href="#json" aria-label="Permalink to &quot;Json&quot;">​</a></h2><p>Returns json data, this can be anything you like. You could also specify a redirection url here and have your frontend redirect to that url.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">JsonResponseConfig</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">make</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">json</span><span style="color:#89DDFF;">([</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">This request is not allowed</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">action</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">go hack somewhere else</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">]),</span></span></code></pre></div>`,18),l=[p];function t(r,c,i,F,y,D){return e(),a("div",null,l)}const u=s(o,[["render",t]]);export{d as __pageData,u as default};
